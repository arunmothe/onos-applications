{
    "@name": "config-nat",
    "@xmlns": "urn:ietf:params:xml:ns:yang:yin:1",
    "@xmlns:nat": "http://netgroup.ipv6.polito.it/vnf",
    "@xmlns:inet": "urn:ietf:params:xml:ns:yang:ietf-inet-types",
    "namespace": {
        "@uri": "http://netgroup.ipv6.polito.it/vnf"
    }
    ,
    "prefix": {
        "@value": "nat"
    }
    ,
    "import": {
        "@module": "ietf-inet-types",
        "prefix": {
            "@value": "inet"
        }
    }
    ,
    "description": {
        "text": "Nat configuration"
    }
    ,
    "container": {
        "@name": "interfaces",
        "list": [ {
            "@name": "ifEntry",
            "key": {
                "@value": "name"
            }
            ,
            "min-elements": {
                "@value": "2"
            }
            ,
            "max-elements": {
                "@value": "3"
            }
            ,
            "leaf": [ {
                "@name": "id",
                "description": {
                    "text": "name='Id'"
                }
                ,
                "type": {
                    "@name": "string"
                }
            }
            ,
            {
                "@name": "name",
                "description": {
                    "text": "name='Name'"
                }
                ,
                "type": {
                    "@name": "string"
                }
            }
            ,
            {
                "@name": "type",
                "description": {
                    "text": "name='Type'"
                }
                ,
                "type": {
                    "@name": "enumeration",
                    "enum": [ {
                        "@name": "L3"
                    }
                    ,
                    {
                        "@name": "transparent"
                    }
                    ]
                }
            }
            ,
            {
                "@name": "management",
                "description": {
                    "text": "name='Management'"
                }
                ,
                "type": {
                    "@name": "boolean"
                }
                ,
                "mandatory": {
                    "@value": "false"
                }
            }
            ],
            "container": [ {
                "@name": "ipv4_configuration",
                "presence": {
                    "@value": "it contains ipv4 configuration"
                }
                ,
                "leaf": [ {
                    "@name": "configurationType",
                    "description": {
                        "text": "name='Configuration type'"
                    }
                    ,
                    "type": {
                        "@name": "enumeration",
                        "enum": [ {
                            "@name": "dhcp"
                        }
                        ,
                        {
                            "@name": "static"
                        }
                        ]
                    }
                }
                ,
                {
                    "@name": "address",
                    "description": {
                        "text": "name='IP Address"
                    }
                    ,
                    "type": {
                        "@name": "inet:ipv4-address"
                    }
                    ,
                    "mandatory": {
                        "@value": "false"
                    }
                }
                ,
                {
                    "@name": "netmask",
                    "description": {
                        "text": "name='Netmask"
                    }
                    ,
                    "type": {
                        "@name": "inet:ip-address"
                    }
                    ,
                    "mandatory": {
                        "@value": "false"
                    }
                }
                ,
                {
                    "@name": "mac-address",
                    "description": {
                        "text": "name='MAC Address'"
                    }
                    ,
                    "type": {
                        "@name": "string"
                    }
                    ,
                    "mandatory": {
                        "@value": "false"
                    }
                }
                ,
                {
                    "@name": "default_gw",
                    "description": {
                        "text": "name='Default GW"
                    }
                    ,
                    "type": {
                        "@name": "inet:ipv4-address"
                    }
                    ,
                    "mandatory": {
                        "@value": "false"
                    }
                }
                ]
            }
            ,
            {
                "@name": "ipv6_configuration",
                "presence": {
                    "@value": "it contains ipv6 configuration"
                }
                ,
                "leaf": [ {
                    "@name": "configurationType",
                    "description": {
                        "text": "name='Configuration type'"
                    }
                    ,
                    "type": {
                        "@name": "enumeration",
                        "enum": [ {
                            "@name": "dhcp"
                        }
                        ,
                        {
                            "@name": "static"
                        }
                        ]
                    }
                }
                ,
                {
                    "@name": "address",
                    "description": {
                        "text": "name='IP Address"
                    }
                    ,
                    "type": {
                        "@name": "inet:ipv6-address"
                    }
                    ,
                    "mandatory": {
                        "@value": "false"
                    }
                }
                ,
                {
                    "@name": "netmask",
                    "description": {
                        "text": "name='Netmask"
                    }
                    ,
                    "type": {
                        "@name": "inet:ip-address"
                    }
                    ,
                    "mandatory": {
                        "@value": "false"
                    }
                }
                ,
                {
                    "@name": "default_gw",
                    "description": {
                        "text": "name='Default GW"
                    }
                    ,
                    "type": {
                        "@name": "inet:ipv6-address"
                    }
                    ,
                    "mandatory": {
                        "@value": "false"
                    }
                }
                ]
            }
            ]
        }
        ,
        {
            "@name": "floatingIP",
            "description": {
                "text": "name='Floating IP'"
            }
            ,
            "key": {
                "@value": "public_address"
            }
            ,
            "leaf": [ {
                "@name": "private_address",
                "description": {
                    "text": "name='Private address'"
                }
                ,
                "type": {
                    "@name": "inet:ip-address"
                }
            }
            ,
            {
                "@name": "public_address",
                "description": {
                    "text": "name='Public address'"
                }
                ,
                "type": {
                    "@name": "inet:ip-address"
                }
            }
            ]
        }
        ],
        "container": {
            "@name": "nat",
            "description": {
                "text": "name='Nat"
            }
            ,
            "leaf": [ {
                "@name": "private-interface",
                "description": {
                    "text": "name='Private Interface"
                }
                ,
                "type": {
                    "@name": "leafref",
                    "path": {
                        "@value": "/interfaces/ifEntry/id"
                    }
                }
            }
            ,
            {
                "@name": "public-interface",
                "description": {
                    "text": "name='Public Interface"
                }
                ,
                "type": {
                    "@name": "leafref",
                    "path": {
                        "@value": "/interfaces/ifEntry/id"
                    }
                }
            }
            ],
            "container": [ {
                "@name": "nat-table",
                "description": {
                    "text": "name='Nat Table'"
                }
                ,
                "list": {
                    "@name": "nat-session",
                    "description": {
                        "text": "name='Nat Session'"
                    }
                    ,
                    "key": {
                        "@value": "id"
                    }
                    ,
                    "leaf": [ {
                        "@name": "id",
                        "description": {
                            "text": "name='YYY'"
                        }
                        ,
                        "type": {
                            "@name": "inet:ip-address"
                        }
                    }
                    ,
                    {
                        "@name": "protocol",
                        "description": {
                            "text": "name='YYY'"
                        }
                        ,
                        "type": {
                            "@name": "enumeration",
                            "enum": [ {
                                "@name": "ICMP"
                            }
                            ,
                            {
                                "@name": "TCP"
                            }
                            ,
                            {
                                "@name": "UDP"
                            }
                            ]
                        }
                    }
                    ,
                    {
                        "@name": "src_address",
                        "description": {
                            "text": "name='YYY'"
                        }
                        ,
                        "type": {
                            "@name": "inet:ip-address"
                        }
                    }
                    ,
                    {
                        "@name": "src_port",
                        "description": {
                            "text": "name='YYY'"
                        }
                        ,
                        "type": {
                            "@name": "string"
                        }
                    }
                    ,
                    {
                        "@name": "dst_address",
                        "description": {
                            "text": "name='YYY'"
                        }
                        ,
                        "type": {
                            "@name": "inet:ip-address"
                        }
                    }
                    ,
                    {
                        "@name": "dst_port",
                        "type": {
                            "@name": "string"
                        }
                    }
                    ,
                    {
                        "@name": "translated_address",
                        "type": {
                            "@name": "inet:ip-address"
                        }
                    }
                    ,
                    {
                        "@name": "translated_port",
                        "type": {
                            "@name": "string"
                        }
                    }
                    ,
                    {
                        "@name": "tcp_state",
                        "type": {
                            "@name": "enumeration",
                            "enum": [ {
                                "@name": "NONE"
                            }
                            ,
                            {
                                "@name": "SYN_SENT"
                            }
                            ,
                            {
                                "@name": "SYN_RECV"
                            }
                            ,
                            {
                                "@name": "ESTABLISHED"
                            }
                            ,
                            {
                                "@name": "FIN_WAIT"
                            }
                            ,
                            {
                                "@name": "CLOSE_WAIT"
                            }
                            ,
                            {
                                "@name": "LAST_ACK"
                            }
                            ,
                            {
                                "@name": "TIME_WAIT"
                            }
                            ,
                            {
                                "@name": "CLOSE"
                            }
                            ,
                            {
                                "@name": "LISTEN"
                            }
                            ]
                        }
                        ,
                        "mandatory": {
                            "@value": "false"
                        }
                    }
                    ]
                }
            }
            ,
            {
                "@name": "arp-table",
                "description": {
                    "text": "name='Nat Table'"
                }
                ,
                "list": {
                    "@name": "arp-entry",
                    "description": {
                        "text": "name='Arp entry'"
                    }
                    ,
                    "key": {
                        "@value": "ip_address"
                    }
                    ,
                    "leaf": [ {
                        "@name": "ip_address",
                        "type": {
                            "@name": "inet:ip-address"
                        }
                    }
                    ,
                    {
                        "@name": "mac_address",
                        "type": {
                            "@name": "string"
                        }
                    }
                    ]
                }
            }
            ]
        }
    }
}
